<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <title>Neki naslov</title>
    </h:head>

    <h:body>

        <div align="center" rendered="#{empty currentUser.name}">
            <h:link class="menu-item" 
                    outcome="/index" 
                    value="#{text['login.title']}"/> 
            | 
            <h:link class="menu-item" 
                    outcome="/pages/user-registration" 
                    value="#{text['registration.title']}"/> 
            | 
            <h:link class="menu-item" 
                    outcome="/pages/movie-list?src=search" 
                    value="#{text['movie-list.searchtitle']}"/>
        </div>

        <div align="center" rendered="#{not empty currentUser.name}"> 


            <h:outputLabel rendered="#{not empty currentUser.name}"
                           value="#{currentUser.name}"/>
            | 
            <h:form style="display: inline" >
                <h:commandLink class="menu-item" 
                               action="#{currentUser.doLogout()}"
                               rendered="#{not empty currentUser.name}"
                               value="#{text['login.logout']}"/>
            </h:form>
            | 
            <h:link class="menu-item" 
                    outcome="/pages/user-edit?id=#{currentUser.id}" 
                    value="#{text['user-edit.profiletitle']}"/>

        </div>

        <div align="center" rendered="#{not empty currentUser.name}">
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('USER-LIST')}"
                    outcome="/pages/user-list" 
                    value="#{text['user-list.title']}"/>
            |
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('GENRE-LIST')}"
                    outcome="/pages/genre-list" 
                    value="#{text['genre-list.title']}"/> 
            | 
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('MOVIE-LIST')}"
                    outcome="/pages/movie-list?src=search" 
                    value="#{text['movie-list.searchtitle']}"/>
            | 
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('MOVIE-LIST')}"
                    outcome="/pages/movie-list?src=favorite" 
                    value="#{text['movie-list.favoritetitle']}"/>
            | 
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('MOVIE-LIST')}"
                    outcome="/pages/movie-list?src=all" 
                    value="#{text['movie-list.alltitle']}"/>
            | 
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('MOVIE-EDIT')}"
                    outcome="/pages/movie-edit" 
                    value="#{text['movie-list.newmovie']}"/>
            | 
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('EVENT-LIST')}"
                    outcome="/pages/event-list" 
                    value="#{text['event-list.title']}"/>
            | 
            <h:link class="menu-item" 
                    rendered="#{currentUser.hasPermission('EVENT-EDIT')}"
                    outcome="/pages/event-edit" 
                    value="#{text['event-edit.title']}"/>
        </div>

        <hr/>
        <br/>

        <div  align="center">
            <ui:insert name="content">
                Content goes here
            </ui:insert>
        </div>
    </h:body>

</html>
